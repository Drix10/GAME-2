<xml xmlns="http://www.w3.org/1999/xhtml">
  <block type="component_event" id="1" collapsed="true" x="52962" y="1645">
    <mutation component_type="Notifier" instance_name="AgainOrQuit" event_name="AfterChoosing"></mutation>
    <field name="COMPONENT_SELECTOR">AgainOrQuit</field>
    <comment pinned="false" h="84" w="383">If Player chooses Play Again from the AgainOrQuit ShowChooseDialog Notifier then call Reset to clear all the Buttons for a new game.</comment>
    <statement name="DO">
      <block type="controls_if" id="2" inline="false">
        <mutation else="1"></mutation>
        <value name="IF0">
          <block type="text_compare" id="3" inline="true">
            <field name="OP">EQUAL</field>
            <value name="TEXT1">
              <block type="lexical_variable_get" id="4">
                <mutation>
                  <eventparam name="choice"></eventparam>
                </mutation>
                <field name="VAR">choice</field>
              </block>
            </value>
            <value name="TEXT2">
              <block type="text" id="5">
                <field name="TEXT">Play Again</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="procedures_callnoreturn" id="6">
            <mutation name="Reset"></mutation>
            <field name="PROCNAME">Reset</field>
          </block>
        </statement>
        <statement name="ELSE">
          <block type="controls_closeApplication" id="7"></block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="8" collapsed="true" x="52962" y="1696">
    <mutation></mutation>
    <field name="NAME">AppTurn</field>
    <comment pinned="false" h="641" w="881">Strategy for the app to make a play to be followed in order:

(The user can use whatever strategy suits him, but the app will use the following steps in order to make a play.)

1) App builds a list of winning play positions where a row, column or diagonal contains an empty Button and two Buttons containing App's marks (O), then randomly select one of those empty Buttons and places App's mark (O) there for a win.

[O][O][ ] -&gt; [O][O][O], etc.


If there are no winning plays for App then go on to 2.

2) App builds a list of winning play positions where a row column or diagonal contains an empty Button and two Buttons containing Player's marks (X), then pick one of those empty Buttons at random and place App's mark (O) there to block Player from a win.

[X][X][ ] -&gt; [X][X][O], etc.

If there are no empty Buttons where Player could place an X for a win that App must block with an O then go on to 3.

3) App builds a list of empty Buttons that are located on rows, columns or diagonals that contain either three empty Buttons, or two empty Buttons and a Button containing App's mark (O) then pick one of the empty Buttons at random to place the App's mark (O) to begin building toward a win with preference for the center button first followed by any corner button then any other button.

[ ][ ][ ] -&gt; [ ][O][ ], etc.
[ ][ ][O] -&gt; [ ][O][O], etc.

If there are no rows, columns or diagonals which contain three empty Buttons or two empty Buttons and a button containing an Apps' mark (O) then go on to 4. 

4) App builds a list of empty Buttons which are on rows, columns or diagonals which consist of two empty Buttons and one Button containing Player's mark (X) or one empty Button and a Button containing an X and a Button containing an O, then randomly select one of those Empty Buttons and place App's mark (O) there with preference for the center button first followed by any corner button then any other button. (App has no chance to build toward a winning play in these locations, but still might prevent Player from winning.)    
    
[ ][ ][X] -&gt; [O][ ][X], etc.
[O][ ][X] -&gt; [O][O][X], etc.

---    
    
    
    
    
    
    
    
    
    
    
    
    
    
    </comment>
    <statement name="STACK">
      <block type="controls_if" id="9" inline="false">
        <mutation else="1"></mutation>
        <value name="IF0">
          <block type="logic_negate" id="10" inline="false">
            <value name="BOOL">
              <block type="lists_is_empty" id="11" inline="false">
                <value name="LIST">
                  <block type="lexical_variable_get" id="12">
                    <field name="VAR">global EmptyButtons</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="local_declaration_statement" id="13" inline="false">
            <mutation>
              <localname name="WinningXPlays"></localname>
              <localname name="WinningOPlays"></localname>
              <localname name="UnblockedOPlays"></localname>
            </mutation>
            <field name="VAR0">WinningXPlays</field>
            <field name="VAR1">WinningOPlays</field>
            <field name="VAR2">UnblockedOPlays</field>
            <value name="DECL0">
              <block type="procedures_callreturn" id="14" inline="true">
                <mutation name="WinningPlaysList">
                  <arg name="Mark"></arg>
                </mutation>
                <field name="PROCNAME">WinningPlaysList</field>
                <value name="ARG0">
                  <block type="text" id="15">
                    <field name="TEXT">X</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="DECL1">
              <block type="procedures_callreturn" id="16" inline="true">
                <mutation name="WinningPlaysList">
                  <arg name="Mark"></arg>
                </mutation>
                <field name="PROCNAME">WinningPlaysList</field>
                <value name="ARG0">
                  <block type="text" id="17">
                    <field name="TEXT">O</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="DECL2">
              <block type="procedures_callreturn" id="18" inline="true">
                <mutation name="UnblockedPlaysList">
                  <arg name="OpponentMark"></arg>
                </mutation>
                <field name="PROCNAME">UnblockedPlaysList</field>
                <value name="ARG0">
                  <block type="text" id="19">
                    <field name="TEXT">X</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="STACK">
              <block type="controls_if" id="20" inline="false">
                <mutation elseif="2" else="1"></mutation>
                <value name="IF0">
                  <block type="logic_negate" id="21" inline="false">
                    <value name="BOOL">
                      <block type="lists_is_empty" id="22" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="23">
                            <field name="VAR">WinningOPlays</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="procedures_callnoreturn" id="24" inline="true">
                    <mutation name="SetButton">
                      <arg name="Button"></arg>
                      <arg name="Text"></arg>
                    </mutation>
                    <field name="PROCNAME">SetButton</field>
                    <comment pinned="false" h="79" w="652">App has at least one winning configurations so pick a random winning play from the list of possible plays.</comment>
                    <value name="ARG0">
                      <block type="lists_pick_random_item" id="25" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="26">
                            <field name="VAR">WinningOPlays</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="text" id="27">
                        <field name="TEXT">O</field>
                      </block>
                    </value>
                    <next>
                      <block type="procedures_callnoreturn" id="28" inline="true">
                        <mutation name="EndGame">
                          <arg name="Message"></arg>
                        </mutation>
                        <field name="PROCNAME">EndGame</field>
                        <value name="ARG0">
                          <block type="text" id="29">
                            <field name="TEXT">I win :-)</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </statement>
                <value name="IF1">
                  <block type="logic_negate" id="30" inline="false">
                    <value name="BOOL">
                      <block type="lists_is_empty" id="31" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="32">
                            <field name="VAR">WinningXPlays</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO1">
                  <block type="procedures_callnoreturn" id="33" inline="true">
                    <mutation name="SetButton">
                      <arg name="Button"></arg>
                      <arg name="Text"></arg>
                    </mutation>
                    <field name="PROCNAME">SetButton</field>
                    <comment pinned="false" h="98" w="439">Player is in position to win so block one of his possible winning plays.</comment>
                    <value name="ARG0">
                      <block type="lists_pick_random_item" id="34" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="35">
                            <field name="VAR">WinningXPlays</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="text" id="36">
                        <field name="TEXT">O</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <value name="IF2">
                  <block type="logic_negate" id="37" inline="false">
                    <value name="BOOL">
                      <block type="lists_is_empty" id="38" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="39">
                            <field name="VAR">UnblockedOPlays</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO2">
                  <block type="procedures_callnoreturn" id="40" inline="true">
                    <mutation name="SetButton">
                      <arg name="Button"></arg>
                      <arg name="Text"></arg>
                    </mutation>
                    <field name="PROCNAME">SetButton</field>
                    <comment pinned="false" h="98" w="439">App has at least one row, column or diagonal that has not been blocked by Player. Pick an empty Button from one of these at random with a preference for the center button first followed by any corner Button, then any other button.</comment>
                    <value name="ARG0">
                      <block type="lists_pick_random_item" id="41" inline="false">
                        <value name="LIST">
                          <block type="procedures_callreturn" id="42" inline="true">
                            <mutation name="PreferredButtonsOrOther">
                              <arg name="Buttons"></arg>
                            </mutation>
                            <field name="PROCNAME">PreferredButtonsOrOther</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="43">
                                <field name="VAR">UnblockedOPlays</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="text" id="44">
                        <field name="TEXT">O</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <statement name="ELSE">
                  <block type="procedures_callnoreturn" id="45" inline="true">
                    <mutation name="SetButton">
                      <arg name="Button"></arg>
                      <arg name="Text"></arg>
                    </mutation>
                    <field name="PROCNAME">SetButton</field>
                    <comment pinned="false" h="103" w="698">App has no winning plays, there was no potential winnning play by Player to be blocked, App is blocked in all rows, columns and diagonals from building a winning play so can only make a random play on the grid with a preference for the center button first followed by any corner, then any other button.</comment>
                    <value name="ARG0">
                      <block type="lists_pick_random_item" id="46" inline="false">
                        <value name="LIST">
                          <block type="procedures_callreturn" id="47" inline="true">
                            <mutation name="PreferredButtonsOrOther">
                              <arg name="Buttons"></arg>
                            </mutation>
                            <field name="PROCNAME">PreferredButtonsOrOther</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="48">
                                <field name="VAR">global EmptyButtons</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="text" id="49">
                        <field name="TEXT">O</field>
                      </block>
                    </value>
                  </block>
                </statement>
              </block>
            </statement>
          </block>
        </statement>
        <statement name="ELSE">
          <block type="procedures_callnoreturn" id="50" inline="true">
            <mutation name="EndGame">
              <arg name="Message"></arg>
            </mutation>
            <field name="PROCNAME">EndGame</field>
            <value name="ARG0">
              <block type="text" id="51">
                <field name="TEXT">Tie Game :-|</field>
              </block>
            </value>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="component_event" id="52" collapsed="true" x="52962" y="1747">
    <mutation component_type="Button" instance_name="Button1" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button1</field>
    <comment pinned="false" h="88" w="325">When any button is touched the PlayerTurn procedure is called to determine if this play wins the game and to set the button's Text to X and disable the button.</comment>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="53" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="54">
            <mutation component_type="Button" instance_name="Button1"></mutation>
            <field name="COMPONENT_SELECTOR">Button1</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="55" collapsed="true" x="52962" y="1798">
    <mutation component_type="Button" instance_name="Button2" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button2</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="56" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="57">
            <mutation component_type="Button" instance_name="Button2"></mutation>
            <field name="COMPONENT_SELECTOR">Button2</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="58" collapsed="true" x="52962" y="1849">
    <mutation component_type="Button" instance_name="Button3" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button3</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="59" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="60">
            <mutation component_type="Button" instance_name="Button3"></mutation>
            <field name="COMPONENT_SELECTOR">Button3</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="61" collapsed="true" x="52962" y="1900">
    <mutation component_type="Button" instance_name="Button4" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button4</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="62" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="63">
            <mutation component_type="Button" instance_name="Button4"></mutation>
            <field name="COMPONENT_SELECTOR">Button4</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="64" collapsed="true" x="52962" y="1951">
    <mutation component_type="Button" instance_name="Button5" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button5</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="65" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="66">
            <mutation component_type="Button" instance_name="Button5"></mutation>
            <field name="COMPONENT_SELECTOR">Button5</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="67" collapsed="true" x="52962" y="2002">
    <mutation component_type="Button" instance_name="Button6" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button6</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="68" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="69">
            <mutation component_type="Button" instance_name="Button6"></mutation>
            <field name="COMPONENT_SELECTOR">Button6</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="70" collapsed="true" x="52962" y="2053">
    <mutation component_type="Button" instance_name="Button7" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button7</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="71" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="72">
            <mutation component_type="Button" instance_name="Button7"></mutation>
            <field name="COMPONENT_SELECTOR">Button7</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="73" collapsed="true" x="52962" y="2104">
    <mutation component_type="Button" instance_name="Button8" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button8</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="74" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="75">
            <mutation component_type="Button" instance_name="Button8"></mutation>
            <field name="COMPONENT_SELECTOR">Button8</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="76" collapsed="true" x="52962" y="2155">
    <mutation component_type="Button" instance_name="Button9" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">Button9</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="77" inline="true">
        <mutation name="PlayerTurn">
          <arg name="Button"></arg>
        </mutation>
        <field name="PROCNAME">PlayerTurn</field>
        <value name="ARG0">
          <block type="component_component_block" id="78">
            <mutation component_type="Button" instance_name="Button9"></mutation>
            <field name="COMPONENT_SELECTOR">Button9</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="79" collapsed="true" x="52962" y="2206">
    <mutation>
      <arg name="Message"></arg>
    </mutation>
    <field name="NAME">EndGame</field>
    <field name="VAR0">Message</field>
    <comment pinned="false" h="85" w="339">EndGame passes the message to be displayed to the PlayAgainOrQuit Notifier then pauses game play to give the Player time to see the end state of the game before the dialog is displayed.</comment>
    <statement name="STACK">
      <block type="lexical_variable_set" id="80" inline="false">
        <field name="VAR">global Message</field>
        <value name="VALUE">
          <block type="lexical_variable_get" id="81">
            <field name="VAR">Message</field>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="82" inline="false">
            <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="Wait2sec"></mutation>
            <field name="COMPONENT_SELECTOR">Wait2sec</field>
            <field name="PROP">TimerEnabled</field>
            <value name="VALUE">
              <block type="logic_boolean" id="83">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="84" inline="false" collapsed="true" x="52962" y="2257">
    <mutation>
      <arg name="Button"></arg>
      <arg name="Mark"></arg>
    </mutation>
    <field name="NAME">IsAWinningPlay</field>
    <field name="VAR0">Button</field>
    <field name="VAR1">Mark</field>
    <comment pinned="false" h="958" w="1237">If a row, column or diagonal contains two buttons containing the specified Mark AND the current button's Text is empty, then there is either

a) a potential winning play here if this is being tested by the Player
b) an opportunity to either win or block a play if this is being tested by the App

How this procedure with result works-

The button id and Mark text (either X or O) is passed to the procedure.
the button id is located in the nested if then else blocks.
All possible winning combinations are tested for that button (horizontally, vertically, diagonally)

On the grid, the Buttons are named Button1, Button2 .. Button9 and correspond with this pattern:

   |   |   
 1 | 2 | 3  
___|___|___
   |   |   
 4 | 5 | 6  
___|___|___
   |   |   
 7 | 8 | 9  
   |   |   
 
So Button1 is in the upper-left corner.

Example of how this procedure works if Button1 was touched and it's Text is empty:

   |   |   
 ? |   |   
___|___|___
   |   |   
 X |   |   
___|___|___
   |   |   
 X |   |   
   |   |   
 
? shows where the current button (Button1) was pressed by the Player (whose Mark is X)
The IsAWinningPlay procedure locates the correct blocks for testing with 'if button = Button1
Then returns the result of the test:

(Button2.Text = Mark and Button3.Text = Mark) --&gt; false (no win here)

or

(Button4.Text = Mark and Button7.Text = Mark) --&gt; true (a win!)

or

(Button5.Text = Mark and Button9.Text = Mark) ---&gt; false (no win here)

When the whole logic test is put together we get

false or true or false --&gt; true

So true is returned from the test and the calling procedure places the X in Button1.Text, indicates that Player wins then ends the game.
---


How this procedure with result is used-

Player-
Player touches an avaiable button.
This procedure is called with the button id and Mark = X
If the play results in a winning pattern True is returned then the main procedure updates the display and ends the game.

App-
App uses this procedure to probe where either a winning play is or where it can block the Player from making a winning play




    
    
    
    
    </comment>
    <value name="RETURN">
      <block type="logic_operation" id="85" inline="false">
        <field name="OP">AND</field>
        <value name="A">
          <block type="controls_choose" id="86" inline="false">
            <value name="TEST">
              <block type="logic_compare" id="87" inline="true">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="lexical_variable_get" id="88">
                    <field name="VAR">Button</field>
                  </block>
                </value>
                <value name="B">
                  <block type="component_component_block" id="89">
                    <mutation component_type="Button" instance_name="Button1"></mutation>
                    <field name="COMPONENT_SELECTOR">Button1</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="THENRETURN">
              <block type="logic_or" id="90" inline="false">
                <field name="OP">OR</field>
                <value name="A">
                  <block type="logic_or" id="91" inline="false">
                    <field name="OP">OR</field>
                    <value name="A">
                      <block type="logic_operation" id="92" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="text_compare" id="93" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="94">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                <field name="COMPONENT_SELECTOR">Button2</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="95">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="text_compare" id="96" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="97">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                <field name="COMPONENT_SELECTOR">Button3</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="98">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="logic_operation" id="99" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="text_compare" id="100" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="101">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                <field name="COMPONENT_SELECTOR">Button4</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="102">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="text_compare" id="103" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="104">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                <field name="COMPONENT_SELECTOR">Button7</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="105">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="B">
                  <block type="logic_operation" id="106" inline="true">
                    <field name="OP">AND</field>
                    <value name="A">
                      <block type="text_compare" id="107" inline="true">
                        <field name="OP">EQUAL</field>
                        <value name="TEXT1">
                          <block type="component_set_get" id="108">
                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                            <field name="COMPONENT_SELECTOR">Button5</field>
                            <field name="PROP">Text</field>
                          </block>
                        </value>
                        <value name="TEXT2">
                          <block type="lexical_variable_get" id="109">
                            <field name="VAR">Mark</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="text_compare" id="110" inline="true">
                        <field name="OP">EQUAL</field>
                        <value name="TEXT1">
                          <block type="component_set_get" id="111">
                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                            <field name="COMPONENT_SELECTOR">Button9</field>
                            <field name="PROP">Text</field>
                          </block>
                        </value>
                        <value name="TEXT2">
                          <block type="lexical_variable_get" id="112">
                            <field name="VAR">Mark</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <value name="ELSERETURN">
              <block type="controls_choose" id="113" inline="false">
                <value name="TEST">
                  <block type="logic_compare" id="114" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="115">
                        <field name="VAR">Button</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="component_component_block" id="116">
                        <mutation component_type="Button" instance_name="Button2"></mutation>
                        <field name="COMPONENT_SELECTOR">Button2</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="THENRETURN">
                  <block type="logic_or" id="117" inline="false">
                    <field name="OP">OR</field>
                    <value name="A">
                      <block type="logic_operation" id="118" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="text_compare" id="119" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="120">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                <field name="COMPONENT_SELECTOR">Button1</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="121">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="text_compare" id="122" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="123">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                <field name="COMPONENT_SELECTOR">Button3</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="124">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="logic_operation" id="125" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="text_compare" id="126" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="127">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                <field name="COMPONENT_SELECTOR">Button5</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="128">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="text_compare" id="129" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="component_set_get" id="130">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                <field name="COMPONENT_SELECTOR">Button8</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="131">
                                <field name="VAR">Mark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="ELSERETURN">
                  <block type="controls_choose" id="132" inline="false">
                    <value name="TEST">
                      <block type="logic_compare" id="133" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="134">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="component_component_block" id="135">
                            <mutation component_type="Button" instance_name="Button3"></mutation>
                            <field name="COMPONENT_SELECTOR">Button3</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="THENRETURN">
                      <block type="logic_or" id="136" inline="false">
                        <field name="OP">OR</field>
                        <value name="A">
                          <block type="logic_or" id="137" inline="false">
                            <field name="OP">OR</field>
                            <value name="A">
                              <block type="logic_operation" id="138" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="text_compare" id="139" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="140">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button1</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="141">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="text_compare" id="142" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="143">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button2</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="144">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="logic_operation" id="145" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="text_compare" id="146" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="147">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button5</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="148">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="text_compare" id="149" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="150">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button7</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="151">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="logic_operation" id="152" inline="true">
                            <field name="OP">AND</field>
                            <value name="A">
                              <block type="text_compare" id="153" inline="true">
                                <field name="OP">EQUAL</field>
                                <value name="TEXT1">
                                  <block type="component_set_get" id="154">
                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                    <field name="COMPONENT_SELECTOR">Button6</field>
                                    <field name="PROP">Text</field>
                                  </block>
                                </value>
                                <value name="TEXT2">
                                  <block type="lexical_variable_get" id="155">
                                    <field name="VAR">Mark</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="text_compare" id="156" inline="true">
                                <field name="OP">EQUAL</field>
                                <value name="TEXT1">
                                  <block type="component_set_get" id="157">
                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                    <field name="COMPONENT_SELECTOR">Button9</field>
                                    <field name="PROP">Text</field>
                                  </block>
                                </value>
                                <value name="TEXT2">
                                  <block type="lexical_variable_get" id="158">
                                    <field name="VAR">Mark</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ELSERETURN">
                      <block type="controls_choose" id="159" inline="false">
                        <value name="TEST">
                          <block type="logic_compare" id="160" inline="true">
                            <field name="OP">EQ</field>
                            <value name="A">
                              <block type="lexical_variable_get" id="161">
                                <field name="VAR">Button</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="component_component_block" id="162">
                                <mutation component_type="Button" instance_name="Button4"></mutation>
                                <field name="COMPONENT_SELECTOR">Button4</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="THENRETURN">
                          <block type="logic_or" id="163" inline="false">
                            <field name="OP">OR</field>
                            <value name="A">
                              <block type="logic_operation" id="164" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="text_compare" id="165" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="166">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button1</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="167">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="text_compare" id="168" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="169">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button7</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="170">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="logic_operation" id="171" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="text_compare" id="172" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="173">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button5</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="174">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="text_compare" id="175" inline="true">
                                    <field name="OP">EQUAL</field>
                                    <value name="TEXT1">
                                      <block type="component_set_get" id="176">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button6</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="TEXT2">
                                      <block type="lexical_variable_get" id="177">
                                        <field name="VAR">Mark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="ELSERETURN">
                          <block type="controls_choose" id="178" inline="false">
                            <value name="TEST">
                              <block type="logic_compare" id="179" inline="true">
                                <field name="OP">EQ</field>
                                <value name="A">
                                  <block type="lexical_variable_get" id="180">
                                    <field name="VAR">Button</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="component_component_block" id="181">
                                    <mutation component_type="Button" instance_name="Button5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Button5</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="THENRETURN">
                              <block type="logic_or" id="182" inline="false">
                                <field name="OP">OR</field>
                                <value name="A">
                                  <block type="logic_or" id="183" inline="false">
                                    <field name="OP">OR</field>
                                    <value name="A">
                                      <block type="logic_or" id="184" inline="false">
                                        <field name="OP">OR</field>
                                        <value name="A">
                                          <block type="logic_operation" id="185" inline="true">
                                            <field name="OP">AND</field>
                                            <value name="A">
                                              <block type="text_compare" id="186" inline="true">
                                                <field name="OP">EQUAL</field>
                                                <value name="TEXT1">
                                                  <block type="component_set_get" id="187">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button2</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="TEXT2">
                                                  <block type="lexical_variable_get" id="188">
                                                    <field name="VAR">Mark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="text_compare" id="189" inline="true">
                                                <field name="OP">EQUAL</field>
                                                <value name="TEXT1">
                                                  <block type="component_set_get" id="190">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button8</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="TEXT2">
                                                  <block type="lexical_variable_get" id="191">
                                                    <field name="VAR">Mark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_operation" id="192" inline="true">
                                            <field name="OP">AND</field>
                                            <value name="A">
                                              <block type="text_compare" id="193" inline="true">
                                                <field name="OP">EQUAL</field>
                                                <value name="TEXT1">
                                                  <block type="component_set_get" id="194">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button4</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="TEXT2">
                                                  <block type="lexical_variable_get" id="195">
                                                    <field name="VAR">Mark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="text_compare" id="196" inline="true">
                                                <field name="OP">EQUAL</field>
                                                <value name="TEXT1">
                                                  <block type="component_set_get" id="197">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button6</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="TEXT2">
                                                  <block type="lexical_variable_get" id="198">
                                                    <field name="VAR">Mark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="logic_operation" id="199" inline="true">
                                        <field name="OP">AND</field>
                                        <value name="A">
                                          <block type="text_compare" id="200" inline="true">
                                            <field name="OP">EQUAL</field>
                                            <value name="TEXT1">
                                              <block type="component_set_get" id="201">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button1</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="TEXT2">
                                              <block type="lexical_variable_get" id="202">
                                                <field name="VAR">Mark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="text_compare" id="203" inline="true">
                                            <field name="OP">EQUAL</field>
                                            <value name="TEXT1">
                                              <block type="component_set_get" id="204">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button9</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="TEXT2">
                                              <block type="lexical_variable_get" id="205">
                                                <field name="VAR">Mark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_operation" id="206" inline="true">
                                    <field name="OP">AND</field>
                                    <value name="A">
                                      <block type="text_compare" id="207" inline="true">
                                        <field name="OP">EQUAL</field>
                                        <value name="TEXT1">
                                          <block type="component_set_get" id="208">
                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                            <field name="COMPONENT_SELECTOR">Button3</field>
                                            <field name="PROP">Text</field>
                                          </block>
                                        </value>
                                        <value name="TEXT2">
                                          <block type="lexical_variable_get" id="209">
                                            <field name="VAR">Mark</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="text_compare" id="210" inline="true">
                                        <field name="OP">EQUAL</field>
                                        <value name="TEXT1">
                                          <block type="component_set_get" id="211">
                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                            <field name="COMPONENT_SELECTOR">Button7</field>
                                            <field name="PROP">Text</field>
                                          </block>
                                        </value>
                                        <value name="TEXT2">
                                          <block type="lexical_variable_get" id="212">
                                            <field name="VAR">Mark</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="ELSERETURN">
                              <block type="controls_choose" id="213" inline="false">
                                <value name="TEST">
                                  <block type="logic_compare" id="214" inline="true">
                                    <field name="OP">EQ</field>
                                    <value name="A">
                                      <block type="lexical_variable_get" id="215">
                                        <field name="VAR">Button</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="component_component_block" id="216">
                                        <mutation component_type="Button" instance_name="Button6"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button6</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="THENRETURN">
                                  <block type="logic_or" id="217" inline="false">
                                    <field name="OP">OR</field>
                                    <value name="A">
                                      <block type="logic_operation" id="218" inline="true">
                                        <field name="OP">AND</field>
                                        <value name="A">
                                          <block type="text_compare" id="219" inline="true">
                                            <field name="OP">EQUAL</field>
                                            <value name="TEXT1">
                                              <block type="component_set_get" id="220">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button3</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="TEXT2">
                                              <block type="lexical_variable_get" id="221">
                                                <field name="VAR">Mark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="text_compare" id="222" inline="true">
                                            <field name="OP">EQUAL</field>
                                            <value name="TEXT1">
                                              <block type="component_set_get" id="223">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button9</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="TEXT2">
                                              <block type="lexical_variable_get" id="224">
                                                <field name="VAR">Mark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="logic_operation" id="225" inline="true">
                                        <field name="OP">AND</field>
                                        <value name="A">
                                          <block type="text_compare" id="226" inline="true">
                                            <field name="OP">EQUAL</field>
                                            <value name="TEXT1">
                                              <block type="component_set_get" id="227">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button4</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="TEXT2">
                                              <block type="lexical_variable_get" id="228">
                                                <field name="VAR">Mark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="text_compare" id="229" inline="true">
                                            <field name="OP">EQUAL</field>
                                            <value name="TEXT1">
                                              <block type="component_set_get" id="230">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button5</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="TEXT2">
                                              <block type="lexical_variable_get" id="231">
                                                <field name="VAR">Mark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ELSERETURN">
                                  <block type="controls_choose" id="232" inline="false">
                                    <value name="TEST">
                                      <block type="logic_compare" id="233" inline="true">
                                        <field name="OP">EQ</field>
                                        <value name="A">
                                          <block type="lexical_variable_get" id="234">
                                            <field name="VAR">Button</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="component_component_block" id="235">
                                            <mutation component_type="Button" instance_name="Button7"></mutation>
                                            <field name="COMPONENT_SELECTOR">Button7</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="THENRETURN">
                                      <block type="logic_or" id="236" inline="false">
                                        <field name="OP">OR</field>
                                        <value name="A">
                                          <block type="logic_or" id="237" inline="false">
                                            <field name="OP">OR</field>
                                            <value name="A">
                                              <block type="logic_operation" id="238" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="text_compare" id="239" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="240">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button1</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="241">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="text_compare" id="242" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="243">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button4</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="244">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_operation" id="245" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="text_compare" id="246" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="247">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button8</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="248">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="text_compare" id="249" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="250">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button9</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="251">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_operation" id="252" inline="true">
                                            <field name="OP">AND</field>
                                            <value name="A">
                                              <block type="text_compare" id="253" inline="true">
                                                <field name="OP">EQUAL</field>
                                                <value name="TEXT1">
                                                  <block type="component_set_get" id="254">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button3</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="TEXT2">
                                                  <block type="lexical_variable_get" id="255">
                                                    <field name="VAR">Mark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="text_compare" id="256" inline="true">
                                                <field name="OP">EQUAL</field>
                                                <value name="TEXT1">
                                                  <block type="component_set_get" id="257">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button5</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="TEXT2">
                                                  <block type="lexical_variable_get" id="258">
                                                    <field name="VAR">Mark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ELSERETURN">
                                      <block type="controls_choose" id="259" inline="false">
                                        <value name="TEST">
                                          <block type="logic_compare" id="260" inline="true">
                                            <field name="OP">EQ</field>
                                            <value name="A">
                                              <block type="lexical_variable_get" id="261">
                                                <field name="VAR">Button</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="component_component_block" id="262">
                                                <mutation component_type="Button" instance_name="Button8"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button8</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="THENRETURN">
                                          <block type="logic_or" id="263" inline="false">
                                            <field name="OP">OR</field>
                                            <value name="A">
                                              <block type="logic_operation" id="264" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="text_compare" id="265" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="266">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button2</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="267">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="text_compare" id="268" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="269">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button5</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="270">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_operation" id="271" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="text_compare" id="272" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="273">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button7</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="274">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="text_compare" id="275" inline="true">
                                                    <field name="OP">EQUAL</field>
                                                    <value name="TEXT1">
                                                      <block type="component_set_get" id="276">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button9</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="TEXT2">
                                                      <block type="lexical_variable_get" id="277">
                                                        <field name="VAR">Mark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="ELSERETURN">
                                          <block type="controls_choose" id="278" inline="false">
                                            <value name="TEST">
                                              <block type="logic_compare" id="279" inline="true">
                                                <field name="OP">EQ</field>
                                                <value name="A">
                                                  <block type="lexical_variable_get" id="280">
                                                    <field name="VAR">Button</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="component_component_block" id="281">
                                                    <mutation component_type="Button" instance_name="Button9"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button9</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="THENRETURN">
                                              <block type="logic_or" id="282" inline="false">
                                                <field name="OP">OR</field>
                                                <value name="A">
                                                  <block type="logic_or" id="283" inline="false">
                                                    <field name="OP">OR</field>
                                                    <value name="A">
                                                      <block type="logic_operation" id="284" inline="true">
                                                        <field name="OP">AND</field>
                                                        <value name="A">
                                                          <block type="text_compare" id="285" inline="true">
                                                            <field name="OP">EQUAL</field>
                                                            <value name="TEXT1">
                                                              <block type="component_set_get" id="286">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button1</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="TEXT2">
                                                              <block type="lexical_variable_get" id="287">
                                                                <field name="VAR">Mark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="B">
                                                          <block type="text_compare" id="288" inline="true">
                                                            <field name="OP">EQUAL</field>
                                                            <value name="TEXT1">
                                                              <block type="component_set_get" id="289">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button5</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="TEXT2">
                                                              <block type="lexical_variable_get" id="290">
                                                                <field name="VAR">Mark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="logic_operation" id="291" inline="true">
                                                        <field name="OP">AND</field>
                                                        <value name="A">
                                                          <block type="text_compare" id="292" inline="true">
                                                            <field name="OP">EQUAL</field>
                                                            <value name="TEXT1">
                                                              <block type="component_set_get" id="293">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button7</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="TEXT2">
                                                              <block type="lexical_variable_get" id="294">
                                                                <field name="VAR">Mark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="B">
                                                          <block type="text_compare" id="295" inline="true">
                                                            <field name="OP">EQUAL</field>
                                                            <value name="TEXT1">
                                                              <block type="component_set_get" id="296">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button8</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="TEXT2">
                                                              <block type="lexical_variable_get" id="297">
                                                                <field name="VAR">Mark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="logic_operation" id="298" inline="true">
                                                    <field name="OP">AND</field>
                                                    <value name="A">
                                                      <block type="text_compare" id="299" inline="true">
                                                        <field name="OP">EQUAL</field>
                                                        <value name="TEXT1">
                                                          <block type="component_set_get" id="300">
                                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                                            <field name="COMPONENT_SELECTOR">Button3</field>
                                                            <field name="PROP">Text</field>
                                                          </block>
                                                        </value>
                                                        <value name="TEXT2">
                                                          <block type="lexical_variable_get" id="301">
                                                            <field name="VAR">Mark</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="text_compare" id="302" inline="true">
                                                        <field name="OP">EQUAL</field>
                                                        <value name="TEXT1">
                                                          <block type="component_set_get" id="303">
                                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                                            <field name="COMPONENT_SELECTOR">Button6</field>
                                                            <field name="PROP">Text</field>
                                                          </block>
                                                        </value>
                                                        <value name="TEXT2">
                                                          <block type="lexical_variable_get" id="304">
                                                            <field name="VAR">Mark</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="ELSERETURN">
                                              <block type="logic_boolean" id="305">
                                                <field name="BOOL">FALSE</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <value name="B">
          <block type="text_isEmpty" id="306" inline="false">
            <value name="VALUE">
              <block type="component_set_get" id="307" inline="true">
                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="true"></mutation>
                <field name="PROP">Text</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="308">
                    <field name="VAR">Button</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="309" inline="false" collapsed="true" x="52962" y="2308">
    <mutation>
      <arg name="Button"></arg>
      <arg name="OpponentMark"></arg>
    </mutation>
    <field name="NAME">IsNotBlocked</field>
    <field name="VAR0">Button</field>
    <field name="VAR1">OpponentMark</field>
    <comment pinned="false" h="99" w="445">Test if a row, column or diagonal which contains the specified button contains empty buttons or no buttons with the Player's marks.

Returns true if so, else returns false.
    
    
    
    </comment>
    <value name="RETURN">
      <block type="logic_operation" id="310" inline="false">
        <field name="OP">AND</field>
        <value name="A">
          <block type="controls_choose" id="311" inline="false">
            <value name="TEST">
              <block type="logic_compare" id="312" inline="true">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="lexical_variable_get" id="313">
                    <field name="VAR">Button</field>
                  </block>
                </value>
                <value name="B">
                  <block type="component_component_block" id="314">
                    <mutation component_type="Button" instance_name="Button1"></mutation>
                    <field name="COMPONENT_SELECTOR">Button1</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="THENRETURN">
              <block type="logic_or" id="315" inline="false">
                <field name="OP">OR</field>
                <value name="A">
                  <block type="logic_or" id="316" inline="false">
                    <field name="OP">OR</field>
                    <value name="A">
                      <block type="logic_operation" id="317" inline="true">
                        <field name="OP">AND</field>
                        <comment pinned="false" h="146" w="458">[?][ ][ ]
[?][X][ ]
[?][ ][X]
[?][X][X]

For Button1 there are four possibilities for the row.
These are handled here.
                        
                        
                        
                        </comment>
                        <value name="A">
                          <block type="logic_compare" id="318" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="319">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                <field name="COMPONENT_SELECTOR">Button2</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="320">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="logic_compare" id="321" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="322">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                <field name="COMPONENT_SELECTOR">Button3</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="323">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="logic_operation" id="324" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="logic_compare" id="325" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="326">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                <field name="COMPONENT_SELECTOR">Button4</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="327">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="logic_compare" id="328" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="329">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                <field name="COMPONENT_SELECTOR">Button7</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="330">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="B">
                  <block type="logic_operation" id="331" inline="true">
                    <field name="OP">AND</field>
                    <value name="A">
                      <block type="logic_compare" id="332" inline="true">
                        <field name="OP">NEQ</field>
                        <value name="A">
                          <block type="component_set_get" id="333">
                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                            <field name="COMPONENT_SELECTOR">Button5</field>
                            <field name="PROP">Text</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="lexical_variable_get" id="334">
                            <field name="VAR">OpponentMark</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="logic_compare" id="335" inline="true">
                        <field name="OP">NEQ</field>
                        <value name="A">
                          <block type="component_set_get" id="336">
                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                            <field name="COMPONENT_SELECTOR">Button9</field>
                            <field name="PROP">Text</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="lexical_variable_get" id="337">
                            <field name="VAR">OpponentMark</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <value name="ELSERETURN">
              <block type="controls_choose" id="338" inline="false">
                <value name="TEST">
                  <block type="logic_compare" id="339" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="340">
                        <field name="VAR">Button</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="component_component_block" id="341">
                        <mutation component_type="Button" instance_name="Button2"></mutation>
                        <field name="COMPONENT_SELECTOR">Button2</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="THENRETURN">
                  <block type="logic_or" id="342" inline="false">
                    <field name="OP">OR</field>
                    <value name="A">
                      <block type="logic_operation" id="343" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="logic_compare" id="344" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="345">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                <field name="COMPONENT_SELECTOR">Button1</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="346">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="logic_compare" id="347" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="348">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                <field name="COMPONENT_SELECTOR">Button3</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="349">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="logic_operation" id="350" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="logic_compare" id="351" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="352">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                <field name="COMPONENT_SELECTOR">Button5</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="353">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="logic_compare" id="354" inline="true">
                            <field name="OP">NEQ</field>
                            <value name="A">
                              <block type="component_set_get" id="355">
                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                <field name="COMPONENT_SELECTOR">Button8</field>
                                <field name="PROP">Text</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lexical_variable_get" id="356">
                                <field name="VAR">OpponentMark</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="ELSERETURN">
                  <block type="controls_choose" id="357" inline="false">
                    <value name="TEST">
                      <block type="logic_compare" id="358" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="359">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="component_component_block" id="360">
                            <mutation component_type="Button" instance_name="Button3"></mutation>
                            <field name="COMPONENT_SELECTOR">Button3</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="THENRETURN">
                      <block type="logic_or" id="361" inline="false">
                        <field name="OP">OR</field>
                        <value name="A">
                          <block type="logic_or" id="362" inline="false">
                            <field name="OP">OR</field>
                            <value name="A">
                              <block type="logic_operation" id="363" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="logic_compare" id="364" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="365">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button1</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="366">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_compare" id="367" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="368">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button2</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="369">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="logic_operation" id="370" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="logic_compare" id="371" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="372">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button5</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="373">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_compare" id="374" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="375">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button7</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="376">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="logic_operation" id="377" inline="true">
                            <field name="OP">AND</field>
                            <value name="A">
                              <block type="logic_compare" id="378" inline="true">
                                <field name="OP">NEQ</field>
                                <value name="A">
                                  <block type="component_set_get" id="379">
                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                    <field name="COMPONENT_SELECTOR">Button6</field>
                                    <field name="PROP">Text</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="lexical_variable_get" id="380">
                                    <field name="VAR">OpponentMark</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="logic_compare" id="381" inline="true">
                                <field name="OP">NEQ</field>
                                <value name="A">
                                  <block type="component_set_get" id="382">
                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                    <field name="COMPONENT_SELECTOR">Button9</field>
                                    <field name="PROP">Text</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="lexical_variable_get" id="383">
                                    <field name="VAR">OpponentMark</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ELSERETURN">
                      <block type="controls_choose" id="384" inline="false">
                        <value name="TEST">
                          <block type="logic_compare" id="385" inline="true">
                            <field name="OP">EQ</field>
                            <value name="A">
                              <block type="lexical_variable_get" id="386">
                                <field name="VAR">Button</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="component_component_block" id="387">
                                <mutation component_type="Button" instance_name="Button4"></mutation>
                                <field name="COMPONENT_SELECTOR">Button4</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="THENRETURN">
                          <block type="logic_or" id="388" inline="false">
                            <field name="OP">OR</field>
                            <value name="A">
                              <block type="logic_operation" id="389" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="logic_compare" id="390" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="391">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button1</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="392">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_compare" id="393" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="394">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button7</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="395">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="logic_operation" id="396" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="logic_compare" id="397" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="398">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button5</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="399">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_compare" id="400" inline="true">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="component_set_get" id="401">
                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button6</field>
                                        <field name="PROP">Text</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="lexical_variable_get" id="402">
                                        <field name="VAR">OpponentMark</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="ELSERETURN">
                          <block type="controls_choose" id="403" inline="false">
                            <value name="TEST">
                              <block type="logic_compare" id="404" inline="true">
                                <field name="OP">EQ</field>
                                <value name="A">
                                  <block type="lexical_variable_get" id="405">
                                    <field name="VAR">Button</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="component_component_block" id="406">
                                    <mutation component_type="Button" instance_name="Button5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Button5</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="THENRETURN">
                              <block type="logic_or" id="407" inline="false">
                                <field name="OP">OR</field>
                                <value name="A">
                                  <block type="logic_or" id="408" inline="false">
                                    <field name="OP">OR</field>
                                    <value name="A">
                                      <block type="logic_or" id="409" inline="false">
                                        <field name="OP">OR</field>
                                        <value name="A">
                                          <block type="logic_operation" id="410" inline="true">
                                            <field name="OP">AND</field>
                                            <value name="A">
                                              <block type="logic_compare" id="411" inline="true">
                                                <field name="OP">NEQ</field>
                                                <value name="A">
                                                  <block type="component_set_get" id="412">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button2</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="lexical_variable_get" id="413">
                                                    <field name="VAR">OpponentMark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_compare" id="414" inline="true">
                                                <field name="OP">NEQ</field>
                                                <value name="A">
                                                  <block type="component_set_get" id="415">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button8</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="lexical_variable_get" id="416">
                                                    <field name="VAR">OpponentMark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_operation" id="417" inline="true">
                                            <field name="OP">AND</field>
                                            <value name="A">
                                              <block type="logic_compare" id="418" inline="true">
                                                <field name="OP">NEQ</field>
                                                <value name="A">
                                                  <block type="component_set_get" id="419">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button4</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="lexical_variable_get" id="420">
                                                    <field name="VAR">OpponentMark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_compare" id="421" inline="true">
                                                <field name="OP">NEQ</field>
                                                <value name="A">
                                                  <block type="component_set_get" id="422">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button6</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="lexical_variable_get" id="423">
                                                    <field name="VAR">OpponentMark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="logic_operation" id="424" inline="true">
                                        <field name="OP">AND</field>
                                        <value name="A">
                                          <block type="logic_compare" id="425" inline="true">
                                            <field name="OP">NEQ</field>
                                            <value name="A">
                                              <block type="component_set_get" id="426">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button1</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="lexical_variable_get" id="427">
                                                <field name="VAR">OpponentMark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_compare" id="428" inline="true">
                                            <field name="OP">NEQ</field>
                                            <value name="A">
                                              <block type="component_set_get" id="429">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button9</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="lexical_variable_get" id="430">
                                                <field name="VAR">OpponentMark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_operation" id="431" inline="true">
                                    <field name="OP">AND</field>
                                    <value name="A">
                                      <block type="logic_compare" id="432" inline="true">
                                        <field name="OP">NEQ</field>
                                        <value name="A">
                                          <block type="component_set_get" id="433">
                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                            <field name="COMPONENT_SELECTOR">Button3</field>
                                            <field name="PROP">Text</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="lexical_variable_get" id="434">
                                            <field name="VAR">OpponentMark</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="logic_compare" id="435" inline="true">
                                        <field name="OP">NEQ</field>
                                        <value name="A">
                                          <block type="component_set_get" id="436">
                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                            <field name="COMPONENT_SELECTOR">Button7</field>
                                            <field name="PROP">Text</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="lexical_variable_get" id="437">
                                            <field name="VAR">OpponentMark</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="ELSERETURN">
                              <block type="controls_choose" id="438" inline="false">
                                <value name="TEST">
                                  <block type="logic_compare" id="439" inline="true">
                                    <field name="OP">EQ</field>
                                    <value name="A">
                                      <block type="lexical_variable_get" id="440">
                                        <field name="VAR">Button</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="component_component_block" id="441">
                                        <mutation component_type="Button" instance_name="Button6"></mutation>
                                        <field name="COMPONENT_SELECTOR">Button6</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="THENRETURN">
                                  <block type="logic_or" id="442" inline="false">
                                    <field name="OP">OR</field>
                                    <value name="A">
                                      <block type="logic_operation" id="443" inline="true">
                                        <field name="OP">AND</field>
                                        <value name="A">
                                          <block type="logic_compare" id="444" inline="true">
                                            <field name="OP">NEQ</field>
                                            <value name="A">
                                              <block type="component_set_get" id="445">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button3</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="lexical_variable_get" id="446">
                                                <field name="VAR">OpponentMark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_compare" id="447" inline="true">
                                            <field name="OP">NEQ</field>
                                            <value name="A">
                                              <block type="component_set_get" id="448">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button9</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="lexical_variable_get" id="449">
                                                <field name="VAR">OpponentMark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="logic_operation" id="450" inline="true">
                                        <field name="OP">AND</field>
                                        <value name="A">
                                          <block type="logic_compare" id="451" inline="true">
                                            <field name="OP">NEQ</field>
                                            <value name="A">
                                              <block type="component_set_get" id="452">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button4</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="lexical_variable_get" id="453">
                                                <field name="VAR">OpponentMark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_compare" id="454" inline="true">
                                            <field name="OP">NEQ</field>
                                            <value name="A">
                                              <block type="component_set_get" id="455">
                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button5</field>
                                                <field name="PROP">Text</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="lexical_variable_get" id="456">
                                                <field name="VAR">OpponentMark</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ELSERETURN">
                                  <block type="controls_choose" id="457" inline="false">
                                    <value name="TEST">
                                      <block type="logic_compare" id="458" inline="true">
                                        <field name="OP">EQ</field>
                                        <value name="A">
                                          <block type="lexical_variable_get" id="459">
                                            <field name="VAR">Button</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="component_component_block" id="460">
                                            <mutation component_type="Button" instance_name="Button7"></mutation>
                                            <field name="COMPONENT_SELECTOR">Button7</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="THENRETURN">
                                      <block type="logic_or" id="461" inline="false">
                                        <field name="OP">OR</field>
                                        <value name="A">
                                          <block type="logic_or" id="462" inline="false">
                                            <field name="OP">OR</field>
                                            <value name="A">
                                              <block type="logic_operation" id="463" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="logic_compare" id="464" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="465">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button1</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="466">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="logic_compare" id="467" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="468">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button4"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button4</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="469">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_operation" id="470" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="logic_compare" id="471" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="472">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button8</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="473">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="logic_compare" id="474" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="475">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button9</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="476">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="logic_operation" id="477" inline="true">
                                            <field name="OP">AND</field>
                                            <value name="A">
                                              <block type="logic_compare" id="478" inline="true">
                                                <field name="OP">NEQ</field>
                                                <value name="A">
                                                  <block type="component_set_get" id="479">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button3</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="lexical_variable_get" id="480">
                                                    <field name="VAR">OpponentMark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_compare" id="481" inline="true">
                                                <field name="OP">NEQ</field>
                                                <value name="A">
                                                  <block type="component_set_get" id="482">
                                                    <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button5</field>
                                                    <field name="PROP">Text</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="lexical_variable_get" id="483">
                                                    <field name="VAR">OpponentMark</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ELSERETURN">
                                      <block type="controls_choose" id="484" inline="false">
                                        <value name="TEST">
                                          <block type="logic_compare" id="485" inline="true">
                                            <field name="OP">EQ</field>
                                            <value name="A">
                                              <block type="lexical_variable_get" id="486">
                                                <field name="VAR">Button</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="component_component_block" id="487">
                                                <mutation component_type="Button" instance_name="Button8"></mutation>
                                                <field name="COMPONENT_SELECTOR">Button8</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="THENRETURN">
                                          <block type="logic_or" id="488" inline="false">
                                            <field name="OP">OR</field>
                                            <value name="A">
                                              <block type="logic_operation" id="489" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="logic_compare" id="490" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="491">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button2"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button2</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="492">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="logic_compare" id="493" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="494">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button5</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="495">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="logic_operation" id="496" inline="true">
                                                <field name="OP">AND</field>
                                                <value name="A">
                                                  <block type="logic_compare" id="497" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="498">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button7</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="499">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="logic_compare" id="500" inline="true">
                                                    <field name="OP">NEQ</field>
                                                    <value name="A">
                                                      <block type="component_set_get" id="501">
                                                        <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button9"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Button9</field>
                                                        <field name="PROP">Text</field>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="lexical_variable_get" id="502">
                                                        <field name="VAR">OpponentMark</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="ELSERETURN">
                                          <block type="controls_choose" id="503" inline="false">
                                            <value name="TEST">
                                              <block type="logic_compare" id="504" inline="true">
                                                <field name="OP">EQ</field>
                                                <value name="A">
                                                  <block type="lexical_variable_get" id="505">
                                                    <field name="VAR">Button</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="component_component_block" id="506">
                                                    <mutation component_type="Button" instance_name="Button9"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Button9</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="THENRETURN">
                                              <block type="logic_or" id="507" inline="false">
                                                <field name="OP">OR</field>
                                                <value name="A">
                                                  <block type="logic_or" id="508" inline="false">
                                                    <field name="OP">OR</field>
                                                    <value name="A">
                                                      <block type="logic_operation" id="509" inline="true">
                                                        <field name="OP">AND</field>
                                                        <value name="A">
                                                          <block type="logic_compare" id="510" inline="true">
                                                            <field name="OP">NEQ</field>
                                                            <value name="A">
                                                              <block type="component_set_get" id="511">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button1"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button1</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="B">
                                                              <block type="lexical_variable_get" id="512">
                                                                <field name="VAR">OpponentMark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="B">
                                                          <block type="logic_compare" id="513" inline="true">
                                                            <field name="OP">NEQ</field>
                                                            <value name="A">
                                                              <block type="component_set_get" id="514">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button5"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button5</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="B">
                                                              <block type="lexical_variable_get" id="515">
                                                                <field name="VAR">OpponentMark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="logic_operation" id="516" inline="true">
                                                        <field name="OP">AND</field>
                                                        <value name="A">
                                                          <block type="logic_compare" id="517" inline="true">
                                                            <field name="OP">NEQ</field>
                                                            <value name="A">
                                                              <block type="component_set_get" id="518">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button7"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button7</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="B">
                                                              <block type="lexical_variable_get" id="519">
                                                                <field name="VAR">OpponentMark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="B">
                                                          <block type="logic_compare" id="520" inline="true">
                                                            <field name="OP">NEQ</field>
                                                            <value name="A">
                                                              <block type="component_set_get" id="521">
                                                                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button8"></mutation>
                                                                <field name="COMPONENT_SELECTOR">Button8</field>
                                                                <field name="PROP">Text</field>
                                                              </block>
                                                            </value>
                                                            <value name="B">
                                                              <block type="lexical_variable_get" id="522">
                                                                <field name="VAR">OpponentMark</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="logic_operation" id="523" inline="true">
                                                    <field name="OP">AND</field>
                                                    <value name="A">
                                                      <block type="logic_compare" id="524" inline="true">
                                                        <field name="OP">NEQ</field>
                                                        <value name="A">
                                                          <block type="component_set_get" id="525">
                                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button3"></mutation>
                                                            <field name="COMPONENT_SELECTOR">Button3</field>
                                                            <field name="PROP">Text</field>
                                                          </block>
                                                        </value>
                                                        <value name="B">
                                                          <block type="lexical_variable_get" id="526">
                                                            <field name="VAR">OpponentMark</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="B">
                                                      <block type="logic_compare" id="527" inline="true">
                                                        <field name="OP">NEQ</field>
                                                        <value name="A">
                                                          <block type="component_set_get" id="528">
                                                            <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="false" instance_name="Button6"></mutation>
                                                            <field name="COMPONENT_SELECTOR">Button6</field>
                                                            <field name="PROP">Text</field>
                                                          </block>
                                                        </value>
                                                        <value name="B">
                                                          <block type="lexical_variable_get" id="529">
                                                            <field name="VAR">OpponentMark</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="ELSERETURN">
                                              <block type="logic_boolean" id="530">
                                                <field name="BOOL">FALSE</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <value name="B">
          <block type="text_isEmpty" id="531" inline="false">
            <value name="VALUE">
              <block type="component_set_get" id="532" inline="true">
                <mutation component_type="Button" set_or_get="get" property_name="Text" is_generic="true"></mutation>
                <field name="PROP">Text</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="533">
                    <field name="VAR">Button</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="534" collapsed="true" x="52962" y="2359">
    <mutation>
      <arg name="Button"></arg>
    </mutation>
    <field name="NAME">PlayerTurn</field>
    <field name="VAR0">Button</field>
    <comment pinned="false" h="224" w="761">When a button is touched by the Player, PlayerTurn procedure is called with the touched button id. It is understood that the Mark is X.

The IsAWinningPlay procedure with result is called to determine if there is a possible winning play that includes this button (ie. three Xs in a row, column or diagonally).
If so, the X is placed in the button and the EndGame procedure called to end the game.
If there is no winning play with this button, then the X is placed and the AppTurn procedure is called.

It is up to the Player to devise a strategy of game play.

The one that I use basically this:

   Randomly place an X on the grid initially
   (App makes a random play)

   Does app have a potential winning play? If so, then block it.
   else pick an area with potential winning plays then make a play there and build on that until a win or App blocks a win.
   If App blocks a winning play then make a play in another spot or direction.

This usually results in either a win or a tie unless I miss something and fail to block the App in a winning play because the app basically uses the same strategy.

    
    
    
    
    </comment>
    <statement name="STACK">
      <block type="controls_if" id="535" inline="false">
        <mutation else="1"></mutation>
        <value name="IF0">
          <block type="procedures_callreturn" id="536" inline="true">
            <mutation name="IsAWinningPlay">
              <arg name="Button"></arg>
              <arg name="Mark"></arg>
            </mutation>
            <field name="PROCNAME">IsAWinningPlay</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="537">
                <field name="VAR">Button</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="text" id="538">
                <field name="TEXT">X</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="procedures_callnoreturn" id="539" inline="true">
            <mutation name="SetButton">
              <arg name="Button"></arg>
              <arg name="Text"></arg>
            </mutation>
            <field name="PROCNAME">SetButton</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="540">
                <field name="VAR">Button</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="text" id="541">
                <field name="TEXT">X</field>
              </block>
            </value>
            <next>
              <block type="procedures_callnoreturn" id="542" inline="true">
                <mutation name="EndGame">
                  <arg name="Message"></arg>
                </mutation>
                <field name="PROCNAME">EndGame</field>
                <value name="ARG0">
                  <block type="text" id="543">
                    <field name="TEXT">You Win :-)</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </statement>
        <statement name="ELSE">
          <block type="procedures_callnoreturn" id="544" inline="true">
            <mutation name="SetButton">
              <arg name="Button"></arg>
              <arg name="Text"></arg>
            </mutation>
            <field name="PROCNAME">SetButton</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="545">
                <field name="VAR">Button</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="text" id="546">
                <field name="TEXT">X</field>
              </block>
            </value>
            <next>
              <block type="procedures_callnoreturn" id="547">
                <mutation name="AppTurn"></mutation>
                <field name="PROCNAME">AppTurn</field>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="548" inline="false" collapsed="true" x="52962" y="2410">
    <mutation>
      <arg name="Buttons"></arg>
    </mutation>
    <field name="NAME">PreferredButtonsOrOther</field>
    <field name="VAR0">Buttons</field>
    <comment pinned="false" h="287" w="828">If the list of Empty Buttons contains *Button5 then return a list containing Button5.
else
If any of the corner buttons is in the Buttons list, return them as controlling corners has a stragic advantage in creating the type of play mentioned above or preventing the opponent from using it.

else

return the original list of Buttons
---


*Playing the center of the grid (Button5) can give a strategic advantage by blocking an opponent's strategy where they play two corners and the center which results in a winning play in two directions -- only one of which can be blocked.
    
    </comment>
    <value name="RETURN">
      <block type="local_declaration_expression" id="549" inline="false">
        <mutation>
          <localname name="CenterOrCornerButtons"></localname>
          <localname name="HasACornerButton"></localname>
        </mutation>
        <field name="VAR0">CenterOrCornerButtons</field>
        <field name="VAR1">HasACornerButton</field>
        <value name="DECL0">
          <block type="lists_create_with" id="550">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="DECL1">
          <block type="logic_boolean" id="551">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="552" inline="false">
            <statement name="STM">
              <block type="controls_if" id="553" inline="false">
                <mutation else="1"></mutation>
                <value name="IF0">
                  <block type="lists_is_in" id="554" inline="true">
                    <value name="ITEM">
                      <block type="component_component_block" id="555">
                        <mutation component_type="Button" instance_name="Button5"></mutation>
                        <field name="COMPONENT_SELECTOR">Button5</field>
                      </block>
                    </value>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="556">
                        <field name="VAR">Buttons</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="lexical_variable_set" id="557" inline="false">
                    <field name="VAR">CenterOrCornerButtons</field>
                    <value name="VALUE">
                      <block type="lists_create_with" id="558" inline="false">
                        <mutation items="1"></mutation>
                        <value name="ADD0">
                          <block type="component_component_block" id="559">
                            <mutation component_type="Button" instance_name="Button5"></mutation>
                            <field name="COMPONENT_SELECTOR">Button5</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </statement>
                <statement name="ELSE">
                  <block type="controls_forEach" id="560" inline="false">
                    <field name="VAR">CornerButton</field>
                    <value name="LIST">
                      <block type="lists_create_with" id="561" inline="true">
                        <mutation items="4"></mutation>
                        <value name="ADD0">
                          <block type="component_component_block" id="562">
                            <mutation component_type="Button" instance_name="Button1"></mutation>
                            <field name="COMPONENT_SELECTOR">Button1</field>
                          </block>
                        </value>
                        <value name="ADD1">
                          <block type="component_component_block" id="563">
                            <mutation component_type="Button" instance_name="Button3"></mutation>
                            <field name="COMPONENT_SELECTOR">Button3</field>
                          </block>
                        </value>
                        <value name="ADD2">
                          <block type="component_component_block" id="564">
                            <mutation component_type="Button" instance_name="Button7"></mutation>
                            <field name="COMPONENT_SELECTOR">Button7</field>
                          </block>
                        </value>
                        <value name="ADD3">
                          <block type="component_component_block" id="565">
                            <mutation component_type="Button" instance_name="Button9"></mutation>
                            <field name="COMPONENT_SELECTOR">Button9</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="controls_if" id="566" inline="false">
                        <value name="IF0">
                          <block type="lists_is_in" id="567" inline="true">
                            <value name="ITEM">
                              <block type="lexical_variable_get" id="568">
                                <field name="VAR">CornerButton</field>
                              </block>
                            </value>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="569">
                                <field name="VAR">Buttons</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="570" inline="false">
                            <field name="VAR">HasACornerButton</field>
                            <value name="VALUE">
                              <block type="logic_boolean" id="571">
                                <field name="BOOL">TRUE</field>
                              </block>
                            </value>
                            <next>
                              <block type="lists_add_items" id="572" inline="true">
                                <mutation items="1"></mutation>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="573">
                                    <field name="VAR">CenterOrCornerButtons</field>
                                  </block>
                                </value>
                                <value name="ITEM0">
                                  <block type="lexical_variable_get" id="574">
                                    <field name="VAR">CornerButton</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="controls_choose" id="575" inline="true">
                <value name="TEST">
                  <block type="lexical_variable_get" id="576">
                    <field name="VAR">HasACornerButton</field>
                  </block>
                </value>
                <value name="THENRETURN">
                  <block type="lexical_variable_get" id="577">
                    <field name="VAR">CenterOrCornerButtons</field>
                  </block>
                </value>
                <value name="ELSERETURN">
                  <block type="lexical_variable_get" id="578">
                    <field name="VAR">Buttons</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="579" collapsed="true" x="52962" y="2461">
    <mutation></mutation>
    <field name="NAME">READ_ME</field>
    <comment pinned="false" h="545" w="1557">TIC TAC TOE

This is the classic game of X's and O's where each player tries to get three of their marks in a row, column or diagonally in a grid of nine squares.

For this example, the player (you) plays against the app using your mark (X).

While you can use whatever strategy you wish during game play, the app must follow the one it is programmed to follow. I programmed it to use the following strategy:

In this particular version of the game, the player (you) allways goes first and uses the X mark to play. If the player has three X's in a row, column or diagonally then he wins. End of game.

If the player's play did not result in a win then it is the app's turn.

The app checks if all of the squares have been filled before attempting to play. If no plays are available then the game is a tie. End of game.

Otherwise, the app can make a play so...

The app will look for all winning plays and if any are available, select one at random to win the game. End of game.

If no winning play is available then continue...

The app will look to see if the player is one mark away from any winning plays and if so, block one of those plays at random by putting the app mark (O) there instead.

If the player has no winning plays to be blocked by the app then continue...

If the app finds any rows, columns or diagonals which don't contain the Player's mark then it picks an empty button from one of these to make a play with preference for the center button first, followed by any corner button then any other empty button.


What is left for App to make a play is one or more rows, columns or diagonals that have a Button containing Player's mark and either one empty button and one containing App's mark or two empty buttons.
The App chooses one of the empty buttons with a preference for the center button first, followed by any corner button then any other button.
---

Now play goes back to the player.



    
    
    
    
    
    
    
    
    
    </comment>
    <statement name="STACK">
      <block type="controls_eval_but_ignore" id="580" inline="false">
        <value name="VALUE">
          <block type="text" id="581">
            <field name="TEXT">Touch the ? for the project description</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="582" collapsed="true" x="52962" y="2512">
    <mutation>
      <arg name="Button"></arg>
    </mutation>
    <field name="NAME">RemoveFromEmptyButtonsList</field>
    <field name="VAR0">Button</field>
    <comment pinned="false" h="83" w="395">When either the Player or App sets a button's Text to X or O, that button id is removed from the EmptyButtons list.
The EmptyButtons list is examined by the AppTurn procedure to determine where it can make a play.
    
    
    
    
    </comment>
    <statement name="STACK">
      <block type="lists_remove_item" id="583" inline="false">
        <value name="LIST">
          <block type="lexical_variable_get" id="584">
            <field name="VAR">global EmptyButtons</field>
          </block>
        </value>
        <value name="INDEX">
          <block type="lists_position_in" id="585" inline="false">
            <value name="ITEM">
              <block type="lexical_variable_get" id="586">
                <field name="VAR">Button</field>
              </block>
            </value>
            <value name="LIST">
              <block type="lexical_variable_get" id="587">
                <field name="VAR">global EmptyButtons</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="588" collapsed="true" x="52962" y="2563">
    <mutation></mutation>
    <field name="NAME">Reset</field>
    <comment pinned="false" h="204" w="333">When a game ends, the Text properties of all buttons is set to empty text and the buttons enabled for the next game.</comment>
    <statement name="STACK">
      <block type="controls_forEach" id="589" inline="false">
        <field name="VAR">Button</field>
        <value name="LIST">
          <block type="lexical_variable_get" id="590">
            <field name="VAR">global AllButtons</field>
          </block>
        </value>
        <statement name="DO">
          <block type="procedures_callnoreturn" id="591" inline="true">
            <mutation name="SetButton">
              <arg name="Button"></arg>
              <arg name="Text"></arg>
            </mutation>
            <field name="PROCNAME">SetButton</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="592">
                <field name="VAR">Button</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="text" id="593">
                <field name="TEXT"></field>
              </block>
            </value>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="component_event" id="594" collapsed="true" x="52962" y="2614">
    <mutation component_type="Form" instance_name="Screen1" event_name="Initialize"></mutation>
    <field name="COMPONENT_SELECTOR">Screen1</field>
    <comment pinned="false" h="130" w="516">Two lists are maintained in this app.
AllButtons contains the button ids of the nine buttons on the grid
EmptyButtons contains a list of the buttons that are currently empty so available for making a play.

The Welcome dialog is displayed which provides basic instructions.
    
    
    
    
    </comment>
    <statement name="DO">
      <block type="lexical_variable_set" id="595" inline="false">
        <field name="VAR">global AllButtons</field>
        <value name="VALUE">
          <block type="lists_create_with" id="596" inline="false">
            <mutation items="9"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="597">
                <mutation component_type="Button" instance_name="Button1"></mutation>
                <field name="COMPONENT_SELECTOR">Button1</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="598">
                <mutation component_type="Button" instance_name="Button2"></mutation>
                <field name="COMPONENT_SELECTOR">Button2</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="599">
                <mutation component_type="Button" instance_name="Button3"></mutation>
                <field name="COMPONENT_SELECTOR">Button3</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="component_component_block" id="600">
                <mutation component_type="Button" instance_name="Button4"></mutation>
                <field name="COMPONENT_SELECTOR">Button4</field>
              </block>
            </value>
            <value name="ADD4">
              <block type="component_component_block" id="601">
                <mutation component_type="Button" instance_name="Button5"></mutation>
                <field name="COMPONENT_SELECTOR">Button5</field>
              </block>
            </value>
            <value name="ADD5">
              <block type="component_component_block" id="602">
                <mutation component_type="Button" instance_name="Button6"></mutation>
                <field name="COMPONENT_SELECTOR">Button6</field>
              </block>
            </value>
            <value name="ADD6">
              <block type="component_component_block" id="603">
                <mutation component_type="Button" instance_name="Button7"></mutation>
                <field name="COMPONENT_SELECTOR">Button7</field>
              </block>
            </value>
            <value name="ADD7">
              <block type="component_component_block" id="604">
                <mutation component_type="Button" instance_name="Button8"></mutation>
                <field name="COMPONENT_SELECTOR">Button8</field>
              </block>
            </value>
            <value name="ADD8">
              <block type="component_component_block" id="605">
                <mutation component_type="Button" instance_name="Button9"></mutation>
                <field name="COMPONENT_SELECTOR">Button9</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="606" inline="false">
            <field name="VAR">global EmptyButtons</field>
            <value name="VALUE">
              <block type="lists_copy" id="607" inline="false">
                <value name="LIST">
                  <block type="lexical_variable_get" id="608">
                    <field name="VAR">global AllButtons</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="component_method" id="609" inline="false">
                <mutation component_type="Notifier" method_name="ShowMessageDialog" is_generic="false" instance_name="Welcome"></mutation>
                <field name="COMPONENT_SELECTOR">Welcome</field>
                <value name="ARG0">
                  <block type="text" id="610" collapsed="true">
                    <field name="TEXT">You are playing against the app in this game. Start by touching a square on the grid. Try to get three X's in a column, row, or diagonally before the app can. Your mark is X. The app's is O. It's your turn...</field>
                  </block>
                </value>
                <value name="ARG1">
                  <block type="text" id="611">
                    <field name="TEXT">How to Play TIC TAC TOE</field>
                  </block>
                </value>
                <value name="ARG2">
                  <block type="text" id="612">
                    <field name="TEXT">Play</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="613" collapsed="true" x="52962" y="2665">
    <mutation>
      <arg name="Button"></arg>
      <arg name="Text"></arg>
    </mutation>
    <field name="NAME">SetButton</field>
    <field name="VAR0">Button</field>
    <field name="VAR1">Text</field>
    <comment pinned="false" h="287" w="929">The Reset procedure, Player and App use this procedure to set the Text property of a button to either empty text, X or O.
If the Text is empty then that means that the button is available for touching by the Player so it is Enabled (when the Player touches a button it's Enable property is set to false to prevent the Player from pressing it again during game play)
An Enabled button with empty text is added to the EmptyButtons list
If the button is set to either X or O, then that button is removed from the EmptyButtons list.

The EmptyButtons list contains all of the buttons that are available for play.
This is used by the App when it is it's turn to play to be able to pick a play at random from available plays. Picking buttons at random makes game play more fun for the player as it is more difficult to predict where the App will make a play (unless the App is blocking a potential winning play by the Player).

As an aside, it is possible for either the Player or the App to trap the opponent by having more than one possible winning play. The opponent must choose to block one of the potential winning plays at random, but cannot block both!

    
    
    
    
    </comment>
    <statement name="STACK">
      <block type="component_set_get" id="614" inline="true">
        <mutation component_type="Button" set_or_get="set" property_name="Text" is_generic="true"></mutation>
        <field name="PROP">Text</field>
        <value name="COMPONENT">
          <block type="lexical_variable_get" id="615">
            <field name="VAR">Button</field>
          </block>
        </value>
        <value name="VALUE">
          <block type="lexical_variable_get" id="616">
            <field name="VAR">Text</field>
          </block>
        </value>
        <next>
          <block type="controls_if" id="617" inline="false">
            <mutation else="1"></mutation>
            <value name="IF0">
              <block type="text_isEmpty" id="618" inline="false">
                <value name="VALUE">
                  <block type="lexical_variable_get" id="619">
                    <field name="VAR">Text</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO0">
              <block type="component_set_get" id="620" inline="true">
                <mutation component_type="Button" set_or_get="set" property_name="Enabled" is_generic="true"></mutation>
                <field name="PROP">Enabled</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="621">
                    <field name="VAR">Button</field>
                  </block>
                </value>
                <value name="VALUE">
                  <block type="logic_boolean" id="622">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
                <next>
                  <block type="controls_if" id="623" inline="false">
                    <value name="IF0">
                      <block type="logic_negate" id="624" inline="false">
                        <value name="BOOL">
                          <block type="lists_is_in" id="625" inline="true">
                            <value name="ITEM">
                              <block type="lexical_variable_get" id="626">
                                <field name="VAR">Button</field>
                              </block>
                            </value>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="627">
                                <field name="VAR">global EmptyButtons</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lists_add_items" id="628" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="629">
                            <field name="VAR">global EmptyButtons</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="630">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
            <statement name="ELSE">
              <block type="component_set_get" id="631" inline="true">
                <mutation component_type="Button" set_or_get="set" property_name="Enabled" is_generic="true"></mutation>
                <field name="PROP">Enabled</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="632">
                    <field name="VAR">Button</field>
                  </block>
                </value>
                <value name="VALUE">
                  <block type="logic_boolean" id="633">
                    <field name="BOOL">FALSE</field>
                  </block>
                </value>
                <next>
                  <block type="procedures_callnoreturn" id="634" inline="true">
                    <mutation name="RemoveFromEmptyButtonsList">
                      <arg name="Button"></arg>
                    </mutation>
                    <field name="PROCNAME">RemoveFromEmptyButtonsList</field>
                    <value name="ARG0">
                      <block type="lexical_variable_get" id="635">
                        <field name="VAR">Button</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="636" inline="false" collapsed="true" x="52962" y="2716">
    <mutation>
      <arg name="OpponentMark"></arg>
    </mutation>
    <field name="NAME">UnblockedPlaysList</field>
    <field name="VAR0">OpponentMark</field>
    <comment pinned="false" h="119" w="913">Tests all buttons for a potential winning play with the selected Mark (X or O).
The button id for each winning play is added to the WinningPlays list.
If there are no potential winning plays, the empty list is returned.
    
    
    
    
    
    
    
    
    
    
    
    
    
    </comment>
    <value name="RETURN">
      <block type="local_declaration_expression" id="637" inline="false">
        <mutation>
          <localname name="StartingPlays"></localname>
        </mutation>
        <field name="VAR0">StartingPlays</field>
        <value name="DECL0">
          <block type="lists_create_with" id="638">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="639" inline="false">
            <statement name="STM">
              <block type="controls_forEach" id="640" inline="false">
                <field name="VAR">Button</field>
                <value name="LIST">
                  <block type="lexical_variable_get" id="641">
                    <field name="VAR">global AllButtons</field>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_if" id="642" inline="false">
                    <value name="IF0">
                      <block type="procedures_callreturn" id="643" inline="false">
                        <mutation name="IsNotBlocked">
                          <arg name="Button"></arg>
                          <arg name="OpponentMark"></arg>
                        </mutation>
                        <field name="PROCNAME">IsNotBlocked</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="644">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                        <value name="ARG1">
                          <block type="lexical_variable_get" id="645">
                            <field name="VAR">OpponentMark</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lists_add_items" id="646" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="647">
                            <field name="VAR">StartingPlays</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="648">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="649">
                <field name="VAR">StartingPlays</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="650" inline="false" collapsed="true" x="52962" y="2767">
    <field name="NAME">EmptyButtons</field>
    <comment pinned="false" h="84" w="445">This list contains the button ids of buttons available for play (Text property value is empty text) and are Enabled.</comment>
    <value name="VALUE">
      <block type="lists_create_with" id="651">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="652" inline="false" collapsed="true" x="52962" y="2818">
    <field name="NAME">AllButtons</field>
    <comment pinned="false" h="83" w="359">Allways contains the the button id's of all nine buttons on the grid. Used to build the EmptyButtons list when the app loads.</comment>
    <value name="VALUE">
      <block type="lists_create_with" id="653">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="654" inline="false" collapsed="true" x="52962" y="2869">
    <field name="NAME">Message</field>
    <comment pinned="false" h="64" w="478">contains one of three messages displayed at the end of the game depening on whether there was a win or a tie</comment>
    <value name="VALUE">
      <block type="text" id="655">
        <field name="TEXT"></field>
      </block>
    </value>
  </block>
  <block type="component_event" id="656" collapsed="true" x="52962" y="2920">
    <mutation component_type="Clock" instance_name="Wait2sec" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">Wait2sec</field>
    <comment pinned="false" h="77" w="1035">This event block gives the Player a few seconds to look at the grid at the end of the game before the AgainOrQuit dialog is displayed.
The global Message variable contains one of three messages that indicate whether the game resulted in a tie, a Player win or an App win.
    
    
    
    
    </comment>
    <statement name="DO">
      <block type="component_method" id="657" inline="false">
        <mutation component_type="Notifier" method_name="ShowChooseDialog" is_generic="false" instance_name="AgainOrQuit"></mutation>
        <field name="COMPONENT_SELECTOR">AgainOrQuit</field>
        <value name="ARG0">
          <block type="lexical_variable_get" id="658">
            <field name="VAR">global Message</field>
          </block>
        </value>
        <value name="ARG1">
          <block type="text" id="659">
            <field name="TEXT">GAME OVER</field>
          </block>
        </value>
        <value name="ARG2">
          <block type="text" id="660">
            <field name="TEXT">Play Again</field>
          </block>
        </value>
        <value name="ARG3">
          <block type="text" id="661">
            <field name="TEXT">Quit</field>
          </block>
        </value>
        <value name="ARG4">
          <block type="logic_boolean" id="662">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="663" inline="false">
            <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="Wait2sec"></mutation>
            <field name="COMPONENT_SELECTOR">Wait2sec</field>
            <field name="PROP">TimerEnabled</field>
            <value name="VALUE">
              <block type="logic_boolean" id="664">
                <field name="BOOL">FALSE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="665" collapsed="true" x="52962" y="2971">
    <mutation component_type="Notifier" instance_name="Welcome" event_name="AfterChoosing"></mutation>
    <field name="COMPONENT_SELECTOR">Welcome</field>
    <comment pinned="false" h="170" w="969">This event block is triggered when the Player chooses either 'Play Again' or 'Quit' from the AgainOrQuit Notifier dialog which pops up at the end of game play.
If Play Again was touched, then the Rest procedure is called which Enables all the buttons and empties out the button's Text.

    
    
    
    
    </comment>
    <statement name="DO">
      <block type="controls_if" id="666" inline="false">
        <mutation else="1"></mutation>
        <value name="IF0">
          <block type="text_compare" id="667" inline="true">
            <field name="OP">EQUAL</field>
            <value name="TEXT1">
              <block type="lexical_variable_get" id="668">
                <mutation>
                  <eventparam name="choice"></eventparam>
                </mutation>
                <field name="VAR">choice</field>
              </block>
            </value>
            <value name="TEXT2">
              <block type="text" id="669">
                <field name="TEXT">Quit</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="controls_closeApplication" id="670"></block>
        </statement>
        <statement name="ELSE">
          <block type="procedures_callnoreturn" id="671">
            <mutation name="Reset"></mutation>
            <field name="PROCNAME">Reset</field>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="672" inline="false" collapsed="true" x="52962" y="3022">
    <mutation>
      <arg name="Mark"></arg>
    </mutation>
    <field name="NAME">WinningPlaysList</field>
    <field name="VAR0">Mark</field>
    <comment pinned="false" h="119" w="913">Tests all buttons for a potential winning play with the selected Mark (X or O).
The button id for each winning play is added to the WinningPlays list.
If there are no potential winning plays, the empty list is returned.
    
    
    
    
    
    
    
    
    
    
    
    
    
    </comment>
    <value name="RETURN">
      <block type="local_declaration_expression" id="673" inline="false">
        <mutation>
          <localname name="WinningPlays"></localname>
        </mutation>
        <field name="VAR0">WinningPlays</field>
        <value name="DECL0">
          <block type="lists_create_with" id="674">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="675" inline="false">
            <statement name="STM">
              <block type="controls_forEach" id="676" inline="false">
                <field name="VAR">Button</field>
                <value name="LIST">
                  <block type="lexical_variable_get" id="677">
                    <field name="VAR">global AllButtons</field>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_if" id="678" inline="false">
                    <value name="IF0">
                      <block type="procedures_callreturn" id="679" inline="true">
                        <mutation name="IsAWinningPlay">
                          <arg name="Button"></arg>
                          <arg name="Mark"></arg>
                        </mutation>
                        <field name="PROCNAME">IsAWinningPlay</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="680">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                        <value name="ARG1">
                          <block type="lexical_variable_get" id="681">
                            <field name="VAR">Mark</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lists_add_items" id="682" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="683">
                            <field name="VAR">WinningPlays</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="684">
                            <field name="VAR">Button</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="685">
                <field name="VAR">WinningPlays</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <yacodeblocks ya-version="130" language-version="19"></yacodeblocks>
</xml>